{ns system
 import #{aidbox  hl7-fhir-r4-core awf.workflow awf.task}

 admin-user-seed
 {:zen/tags #{aidbox/service}
  :engine   aidbox/seed-v2
  :resources
  {:User {:admin
          {:password #env AIDBOX_ADMIN_PASSWORD}}

   :AccessPolicy {:allow-admin-user
                  {:engine "allow"
                   :link   [{:resourceType "User" :id "admin"}]}}}}
 demo-client-seed
 {:zen/tags #{aidbox/service}
  :engine   aidbox/seed-v2
  :resources
  {:Client {:demo
            {:name        "Demo client"
             :secret      #env AIDBOX_CLIENT_SECRET
             :first_party true
             :grant_types ["basic"]}}

   :AccessPolicy {:allow-demo-client
                  {:engine "allow"
                   :link   [{:resourceType "Client" :id "demo"}]}}}}


 box
 {:zen/tags #{aidbox/system}
  :services {:admin-user-seed admin-user-seed
             :demo-client-seed demo-client-seed}}}